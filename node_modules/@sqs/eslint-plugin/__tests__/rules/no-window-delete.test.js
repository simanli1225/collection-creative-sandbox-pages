const RuleTestRunner = require('../rule-test-runner');

const runner = new RuleTestRunner();

runner.run('no-window-delete', {
  valid: [
    'delete onerror;',
    'delete hello.world;',
    'delete hello[world];',
    'delete window.onerror.hello;',
    'delete window.hello[world];',
    'delete window.hello["world"];',
    'try { delete window.onerror; } catch(e) {}',
  ],

  invalid: [
    {
      code: 'delete window.onerror',
      errors: [
        {
          message:
            'Deleting protected window properties in Safari 9.x throws a TypeError. Wrap statement in try/catch.',
        },
      ],
    },
    {
      code: 'delete window[someValue]',
      errors: [
        {
          message:
            'Deleting protected window properties in Safari 9.x throws a TypeError. Wrap statement in try/catch.',
        },
      ],
    },
    {
      code: 'delete window["someValue"]',
      errors: [
        {
          message:
            'Deleting protected window properties in Safari 9.x throws a TypeError. Wrap statement in try/catch.',
        },
      ],
    },
  ],
});
