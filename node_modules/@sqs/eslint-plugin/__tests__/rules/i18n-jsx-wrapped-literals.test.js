const RuleTestRunner = require('../rule-test-runner');

const runner = new RuleTestRunner();

runner.run('i18n-jsx-wrapped-literals', {
  valid: [
    'const myComp = <div><T>Testing My Component</T></div>',
    "const myComp = <div><T>{'Testing My {component}'}</T></div>",
    "const myComp = <div><div><T>{'Nested without '}</T></div><div><T>gaps</T></div></div>",
    'const myComp = <div><T> {variable} </T></div>',
    'const myComp = <p>' +
      '<T helpLink={<a target="_blank" href={HelpLinks.CREATING_DISCOUNTS}><T project="apps.App">Learn more</T></a>}' +
      'project="apps.App"> {"Create discounts for your customers to use in checkout. {helpLink}"}' +
      '</T>' +
      ' {HelpLinks.CREATING_DISCOUNTS} ' +
      '</p>',
    "<div><T>hello</T>{' - '}{RECOMMENDED}{' '}</div>",
    'const myComp = <div>1</div>',
  ],
  invalid: [
    {
      code: 'const myComp = <div>Testing My Component</div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
      ],
    },
    {
      code: "const myComp = <div>{'Testing My Component'}</div>",
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXExpressionContainer',
          line: 1,
          column: 21,
        },
      ],
    },
    {
      code: 'const myComp = <div><div>Testing My Component</div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 26,
        },
      ],
    },
    {
      code: 'const myComp = <div>This is <div>my component</div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 34,
        },
      ],
    },
    {
      code: "const myComp = <div><T>{'Testing My Component'}</T> hello</div>",
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 52,
        },
      ],
    },
    {
      code: 'const myComp = <div>This is <span>my component</span></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 35,
        },
      ],
    },
    {
      code: 'const myComp = <div><T>This is </T><div>my component</div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 41,
        },
      ],
    },
    {
      code: 'const myComp = <div>This is <div><T>my component</T></div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
      ],
    },
    {
      code: 'const myComp = <div>This is <div>my component</div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 34,
        },
      ],
    },
    {
      code: 'const myComp = <div>This is <div><T>my component</T></div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
      ],
    },
    {
      code: 'const myComp = <div><T><span>My component</span></T></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 30,
        },
      ],
    },
    {
      code: 'const myComp = <div>This is <div><T>my <span>really good</span> component</T></div></div>',
      errors: [
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 21,
        },
        {
          message:
            'String literals in jsx elements should be wrapped with the T component',
          type: 'JSXText',
          line: 1,
          column: 46,
        },
      ],
    },
  ],
});
