/**
 * @class RuleTestRunner
 * A small wrapper for RuleTester that requires the rule files
 */

const { RuleTester } = require('eslint');
const { rules } = require('../lib');

const defaults = {
  parser: require.resolve('@babel/eslint-parser'),
  parserOptions: {
    ecmaVersion: 2018,
    sourceType: 'script',
    ecmaFeatures: {
      jsx: true,
    },
  },
};

class RuleTestRunner {
  constructor(options) {
    this.ruleTester = new RuleTester(Object.assign(defaults, options));
  }

  run(name, config) {
    this.ruleTester.run(name, rules[name], config);
  }
}

module.exports = RuleTestRunner;
