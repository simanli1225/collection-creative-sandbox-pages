"use strict";

require("core-js/modules/es.object.define-property.js");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.crumbInterceptor = void 0;
require("core-js/modules/es.string.starts-with.js");
require("core-js/modules/es.object.to-string.js");
require("core-js/modules/es.promise.js");
var _crumb = require("../crumb");
/**
 * Interceptor that attaches crumb token to SQS API Requests.
 */
var crumbInterceptor = {
  fulfilledHandler: function fulfilledHandler(config) {
    if (config && config.url && config.url.startsWith('/api/')) {
      config.headers[_crumb.crumbKey] = (0, _crumb.getCrumbValue)();
    }
    return config;
  },
  rejectedHandler: function rejectedHandler(error) {
    return Promise.reject(error);
  }
};
exports.crumbInterceptor = crumbInterceptor;
var _default = crumbInterceptor;
exports["default"] = _default;