const fs = require('fs');

/**
 * Given a path require it, and return it's content
 * Extracted to a different name for testing purposes.
 *
 * @param {String} filePath
 */
const requireConfig = (filePath) => require(filePath);

/**
 * A utility to write an object as JSON, with standard formatting
 * @param {*} packageName
 */
const writeJsonFileSync = (filePath, obj) =>
  fs.writeFileSync(filePath, JSON.stringify(obj, null, 2));

/**
 * Given a packageName, returns the @sqs scope from it.
 * All other scopes remain as-is and are nested in directories
 * accordingly.
 *
 * @param {*} packageName
 */
const getPackageNameWithoutSqsScope = (packageName) =>
  packageName.replace('@sqs/', '');


module.exports = {
  getPackageNameWithoutSqsScope,
  requireConfig,
  writeJsonFileSync
};