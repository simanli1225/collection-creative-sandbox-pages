const lerna = require('./lerna');
const rush = require('./rush');

/**
 * What monorepo tools do we have defined handling for, in regard
 * to configuring the monorepo tools config file as appropriate
 * for new packages
 */
const MONOREPO_TOOLS = {
  LERNA: 'lerna',
  RUSH: 'rush',
  NONE: 'none'
};

/**
 * Namespaced utils with normalized interfaces
 */
const utils = {
  [MONOREPO_TOOLS.LERNA]: lerna,
  [MONOREPO_TOOLS.RUSH]: rush,
};

/**
 * Given a monorepo tool, returns the available written utils
 * for interfacing with it
 */
const getMonorepoUtils = (monorepoTool) => utils[monorepoTool] || {};

module.exports = {
  // Constants
  MONOREPO_TOOLS,
  // Utilities
  getMonorepoUtils
};