package com.squarespace.reactnative.toolkit.context

import com.facebook.react.bridge.ReactContext

/**
 * Simple [ReactContextProvider] that wraps an existing [ReactContext]
 */
class WrappedContextProvider(private val context: ReactContext) : ReactContextProvider {
  override fun withContext(action: (ReactContext) -> Unit) {
    action.invoke(context)
  }
}

/**
 * Convenience function used to get a [ReactContextProvider] out of a [ReactContext].
 */
fun ReactContext.asContextProvider(): ReactContextProvider {
  return WrappedContextProvider(this)
}
