"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = SqsI18nConfigAutoImportPlugin;
const tslib_1 = require("tslib");
// @ts-expect-error
const plugin_syntax_jsx_1 = tslib_1.__importDefault(require("@babel/plugin-syntax-jsx"));
const ast_utils_1 = require("../ast-utils");
function SqsI18nConfigAutoImportPlugin() {
    return {
        name: 'sqs-i18n-config-auto-import',
        inherits: plugin_syntax_jsx_1.default,
        pre() {
            // "this" isn't typed because babel doesn't have definitions for plugins yet
            // @ts-expect-error
            const { autoImportPackagesConfig } = this.opts;
            if (!autoImportPackagesConfig) {
                throw new Error('[@sqs/i18n-build] sqs-i18n-config-auto-import: missing "autoImportPackagesConfig" value');
            }
        },
        visitor: ast_utils_1.AutoConfigImporter,
    };
}
