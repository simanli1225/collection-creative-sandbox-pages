{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/locale/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,wBAAwB,CAAC;AAErD,OAAO,EAAE,UAAU,EAAE,MAAM,mBAAmB,CAAC;AAS/C,IAAM,UAAU,GAAa,EAAE,CAAC;AAEhC;;GAEG;AACH,MAAM,CAAC,IAAM,gBAAgB,GAAG;IAC9B,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;QACvB,IAAM,GAAC,GAAG,MAAM,CAAC,IAAI,CAAC;QACtB,IAAM,GAAC,GAAQ,UAAU,CAAC;QAC1B,GAAC,CAAC,GAAC,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC;YACb,IAAM,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,CAAC;YACf,GAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC;gBACb,IAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACf,IAAM,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;gBACvB,IAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACnC,IAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAW,CAAC;oBACzB,IAAM,CAAC,GAAa,EAAE,CAAC;oBACvB,0BAA0B;oBAC1B,IAAI,CAAC,qBAAa,EAAE,CAAC;wBACnB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACZ,CAAC;oBACD,IAAI,CAAC,uBAAe,EAAE,CAAC;wBACrB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACZ,CAAC;oBACD,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;oBACd,IAAI,CAAC,SAAoB,CAAC;oBAC1B,IAAM,EAAE,GAAG,CAAC,wBAAgB,CAAC;oBAC7B,IAAI,EAAE,EAAE,CAAC;wBACP,IAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACvB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACT,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACX,CAAC;oBACD,IAAI,CAAC,uBAAe,EAAE,CAAC;wBACrB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACZ,CAAC;oBACD,IAAI,EAAE,EAAE,CAAC;wBACP,CAAC,CAAC,IAAI,CAAC,CAAE,CAAC,CAAC;oBACb,CAAC;oBACD,UAAU,CAAC,IAAI,CAAC;wBACd,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;wBACf,GAAG,EAAE,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;qBACjC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC","sourcesContent":["import { LanguageTag } from '@phensley/language-tag';\nimport { Locale } from '@phensley/locale';\nimport { rawLocales } from './autogen.locales';\n\nconst enum Flags {\n  LANG = 1,\n  SCRIPT = 2,\n  REGION = 4,\n  VARIANT = 8,\n}\n\nconst allLocales: Locale[] = [];\n\n/**\n * @public\n */\nexport const availableLocales = (): Locale[] => {\n  if (!allLocales.length) {\n    const k = Object.keys;\n    const a: any = rawLocales;\n    k(a).forEach((l) => {\n      const b = a[l];\n      k(b).forEach((s) => {\n        const c = b[s];\n        const e = c.length - 1;\n        const re = c[e].split(' ');\n        for (let i = 0; i < re.length; i++) {\n          const f = c[i] as number;\n          const x: string[] = [];\n          /* istanbul ignore else */\n          if (f & Flags.LANG) {\n            x.push(l);\n          }\n          if (f & Flags.SCRIPT) {\n            x.push(s);\n          }\n          let r = re[i];\n          let v: string | undefined;\n          const _v = f & Flags.VARIANT;\n          if (_v) {\n            const p = r.split('-');\n            r = p[0];\n            v = p[1];\n          }\n          if (f & Flags.REGION) {\n            x.push(r);\n          }\n          if (_v) {\n            x.push(v!);\n          }\n          allLocales.push({\n            id: x.join('-'),\n            tag: new LanguageTag(l, s, r, v),\n          });\n        }\n      });\n    });\n  }\n  return allLocales;\n};\n"]}